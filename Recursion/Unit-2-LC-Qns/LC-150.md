#### 7️⃣ **LC 150 — Evaluate Reverse Polish Notation (Recursive)**

- Linear recursion over expression
    
- Focus:
    
    - Stack vs recursion equivalence
```java
class Solution {

    Deque<String> Stack = new ArrayDeque<>();

    Set<String> ops = new HashSet<>(List.of("+", "-", "*", "/"));

  

    public int evalRPN(String[] tokens) {

        int n = tokens.length;

        helper(tokens, n, 0);

        int res = Integer.parseInt(Stack.pollLast());

        return res;

    }

    void helper(String[] arr, int len, int i){

        if(i>=len)return;

        if(ops.contains(arr[i])){

            System.out.println(arr[i] + " is an op ");

            int y = Integer.parseInt(Stack.pollLast());

            int x = Integer.parseInt(Stack.pollLast());

            int acc=0;

            if(arr[i] == "+") acc = x+y;

            else if(arr[i] == "-") acc = x-y; 

            else if(arr[i] == "*") acc = x*y;

            else if(arr[i] == "/") acc = x/y;

            Stack.offerLast(String.valueOf(acc));

        }

        else{

            System.out.println(arr[i] + " is a num ");

            Stack.offerLast(String.valueOf(arr[i]));

        }

        helper(arr, len, i+1);

    }

}
```

> [!danger] JAVA String Comparison Bug
> don't use ==
> use .equals()

  ```java
  class Solution {

    Deque<String> Stack = new ArrayDeque<>();

    Set<String> ops = new HashSet<>(List.of("+", "-", "*", "/"));

  

    public int evalRPN(String[] tokens) {

        int n = tokens.length;

        helper(tokens, n, 0);

        int res = Integer.parseInt(Stack.pollLast());

        return res;

    }

    void helper(String[] arr, int len, int i){

        if(i>=len)return;

        if(ops.contains(arr[i])){

            System.out.println(arr[i] + " is an op ");

            int y = Integer.parseInt(Stack.pollLast());

            int x = Integer.parseInt(Stack.pollLast());

            int acc=0;

            if(arr[i].equals("+")) acc = x+y;

            else if(arr[i].equals("-")) acc = x-y;

            else if(arr[i].equals("*")) acc = x*y;

            else if(arr[i].equals("/")) acc = x/y;

            Stack.offerLast(String.valueOf(acc));

        }

        else{

            System.out.println(arr[i] + " is a num ");

            Stack.offerLast(String.valueOf(arr[i]));

        }

        helper(arr, len, i+1);

    }

}
  ```